import{$ as s}from"./card-BdzXmr1G.js";const d=["image/png","image/jpg","image/jpeg","image/gif"],f=1024*1024*5;function m(e,r=!0){if(!r&&!e)return null;if(!e)return"Product image is required.";const{type:n,size:t}=e;return d.includes(n)?t>f?"File size is too large, limit is 5MB":null:"Only png, jpg, gif files are allowed."}function u(e){var c;const{input:r,dropArea:n,rmBtn:t,imageError:o}=e;o.classList.remove("active");const i=(c=r.files)==null?void 0:c[0];if(!i)return;const l=m(i);if(l){o.innerText=l,o.classList.add("active");return}const a=URL.createObjectURL(i);n.style.backgroundImage=`url(${a})`,n.classList.add("uploaded"),t.classList.add("uploaded"),t.disabled=!1}function g(e){const{input:r,dropArea:n,rmBtn:t,imageError:o}=e;r.value="",r.files=null,n.style.backgroundImage="",n.classList.remove("uploaded"),t.classList.remove("uploaded"),t.disabled=!0,o.classList.remove("active")}function v(){const e=s("image-input"),r=s("drop-area"),n=s("rm-image-btn"),t=s("image-error");if(!e){console.error("image-input not found");return}if(!r){console.error("drop-area not found");return}if(!n){console.error("rm-image-btn not found");return}if(!t){console.error("image-error not found");return}const o={input:e,dropArea:r,rmBtn:n,imageError:t};e.onchange=()=>{u(o)},n.onclick=()=>{g(o)},r.ondragover=i=>{i.preventDefault()},r.ondrop=i=>{var a;i.preventDefault(),((a=i.dataTransfer)==null?void 0:a.files)&&(e.files=i.dataTransfer.files,u(o))}}export{m as f,v as s};

import{s as f,C as l,$ as c}from"./card-BdzXmr1G.js";import{s as d,a as m}from"./request-CeQp7b1R.js";import{s as p,f as g}from"./drop-image-sDr8q4tt.js";import{s as h}from"./category-list-C8gqgDnI.js";const v=(s,t)=>{const r=s.get("pid");if(!r)throw new Error("Product id is required");const e=l.getAPI(`products/${r}`);return fetch(e,{method:"put",body:s,headers:{Authorization:`Basic ${t}`}})},x="(?=.*[A-Za-z])",C=s=>{var a;const t=s.querySelector("textarea"),r=c("image-input"),e=c("image-error");if(!t)return console.error("textarea not found"),!1;if(!r)return console.error("image-input not found"),!1;if(!e)return console.error("image-error not found"),!1;e.classList.remove("active"),e.innerText="";let o=t.value;if((!o||o.trim().length===0)&&(o=void 0),o&&!o.match(x))return t.setCustomValidity("Product description must contain at least one letter."),!1;const i=(a=r.files)==null?void 0:a[0],u=i instanceof File?i:void 0,n=g(u,!1);return n?(e.innerText=n,e.classList.add("active"),!1):!0};y();function y(){h(),f(),d("product"),m(v,{preCheck:C}),p()}

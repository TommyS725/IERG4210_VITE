import{s as f,C as l,$ as c}from"./card-DWmZmNP_.js";import{s as d,a as m}from"./request-D_s7Agun.js";import{s as p,f as g}from"./drop-image-C9E35AKn.js";const h=(n,t)=>{const r=n.get("pid");if(!r)throw new Error("Product id is required");const e=l.getAPI(`products/${r}`);return fetch(e,{method:"put",body:n,headers:{Authorization:`Basic ${t}`}})},v="(?=.*[A-Za-z])",x=n=>{var a;const t=n.querySelector("textarea"),r=c("image-input"),e=c("image-error");if(!t)return console.error("textarea not found"),!1;if(!r)return console.error("image-input not found"),!1;if(!e)return console.error("image-error not found"),!1;e.classList.remove("active"),e.innerText="";let o=t.value;if((!o||o.trim().length===0)&&(o=void 0),o&&!o.match(v))return t.setCustomValidity("Product description must contain at least one letter."),!1;const i=(a=r.files)==null?void 0:a[0],u=i instanceof File?i:void 0,s=g(u,!1);return s?(e.innerText=s,e.classList.add("active"),!1):!0};C();function C(){f(),d("product"),m(h,{preCheck:x}),p()}
